(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{8615:(e,t,a)=>{Promise.resolve().then(a.bind(a,4739))},4739:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var s=a(5155),l=a(9606),n=a(2679),i=a(3415),r=a(2115),o=a(5565);let c={src:"/site/_next/static/media/logo-png.98e6620b.png",height:32,width:146,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAAFVBMVEXe3d3j4+Pd3d7X1tbj2Mrd3d3gzbpqtTfJAAAAB3RSTlN1Z4qBRFxsde9JbAAAAAlwSFlzAAALEwAACxMBAJqcGAAAABpJREFUeJxjYGBmYGNgZWRhYGJiZmFkZGAAAAFQACF9FDiAAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:2};var d=a(7532);let x="http://localhost:3000/api",m=()=>{let{triggerRefresh:e}=(0,d.f)(),[t,a]=(0,r.useState)({day:"",month:"",location:"",city:"",onlineTicket:!1,buyLink:""}),[l,n]=(0,r.useState)(""),[i,o]=(0,r.useState)(!1),[c,m]=(0,r.useState)(null),h=e=>{let{name:t,value:s,type:l,checked:n}=e.target;a(e=>({...e,[t]:"checkbox"===l?n:s}))},u=async s=>{s.preventDefault(),o(!0),m(null);try{let s={day:t.day,month:t.month,location:t.location,city:t.city,linkbuy:t.onlineTicket?t.buyLink:null};if(!(await fetch("".concat(x,"/data"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw Error("Falha ao adicionar evento");m({type:"success",text:"Evento adicionado com sucesso!"}),a({day:"",month:"",location:"",city:"",onlineTicket:!1,buyLink:""}),e()}catch(e){m({type:"error",text:e instanceof Error?e.message:"Erro desconhecido"})}finally{o(!1)}},p=async e=>{e.preventDefault(),o(!0),m(null);try{if(!(await fetch("".concat(x,"/link"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:l})})).ok)throw Error("Falha ao atualizar link do v\xeddeo");m({type:"success",text:"Link do v\xeddeo atualizado com sucesso!"}),n("")}catch(e){m({type:"error",text:e instanceof Error?e.message:"Erro desconhecido"})}finally{o(!1)}};return(0,s.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-gray-800 rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Adicionar Dados"}),c&&(0,s.jsx)("div",{className:"mb-4 p-3 rounded-lg ".concat("success"===c.type?"bg-green-600 text-white":"bg-red-600 text-white"),children:c.text}),(0,s.jsxs)("div",{className:"flex gap-10",children:[(0,s.jsxs)("div",{className:"max-w-sm mx-auto mt-10 p-6 border rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Cadastro datas"}),(0,s.jsxs)("form",{onSubmit:u,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Dia:"}),(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Exemplos: (05 , 09, 10, 22, 30 )"}),(0,s.jsx)("input",{type:"text",name:"day",value:t.day,onChange:h,className:"w-full border p-2 rounded text-black mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"M\xeas:"}),(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Exemplos: (JAN, FEV, ABRIL, DEZ )"}),(0,s.jsx)("input",{type:"text",name:"month",value:t.month,onChange:h,className:"w-full border p-2 rounded text-black mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Local:"}),(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Exemplos: (Vila Mix, Deu Liga, EXPOCRATO)"}),(0,s.jsx)("input",{type:"text",name:"location",value:t.location,onChange:h,className:"w-full border p-2 rounded text-black mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Cidade:"}),(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Exemplos: (S\xe3o Paulo, Fortaleza, Crato)"}),(0,s.jsx)("input",{type:"text",name:"city",value:t.city,onChange:h,className:"w-full border p-2 rounded text-black mt-1"})]})]}),(0,s.jsx)("div",{children:(0,s.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",name:"onlineTicket",checked:t.onlineTicket,onChange:h}),(0,s.jsx)("span",{children:"Ingresso Online"})]})}),t.onlineTicket&&(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Link da Compra:"}),(0,s.jsx)("input",{type:"text",name:"buyLink",value:t.buyLink,onChange:h,className:"w-full border p-2 rounded text-black mt-1"})]}),(0,s.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-lg transition-colors",children:i?"Adicionando...":"Adicionar Evento"})]})]}),(0,s.jsxs)("div",{className:"max-w-sm mx-auto mt-10 p-6 border rounded-lg shadow-lg",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"V\xeddeo Destaque"}),(0,s.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Link v\xeddeo destaque:"}),(0,s.jsx)("input",{type:"text",value:l,onChange:e=>n(e.target.value),className:"w-full border p-2 rounded text-black"})]}),(0,s.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-green-600 hover:bg-green-700 disabled:bg-gray-600 disabled:cursor-not-allowed text-white font-bold py-2 px-4 rounded-lg transition-colors",children:i?"Atualizando...":"Atualizar V\xeddeo"})]})]})]})]})};var h=a(648);let u="http://localhost:3000/api",p=()=>{let{onDataChange:e}=(0,d.f)(),[t,a]=(0,r.useState)([]),[l,n]=(0,r.useState)(!0),[i,o]=(0,r.useState)(null),[c,x]=(0,r.useState)(null),[m,p]=(0,r.useState)({}),[b,y]=(0,r.useState)(null),g=async()=>{try{let e=await fetch("".concat(u,"/data"));if(!e.ok)throw Error("Falha ao carregar dados");let t=await e.json();a(t)}catch(e){o(e instanceof Error?e.message:"Erro desconhecido")}finally{n(!1)}};(0,r.useEffect)(()=>{g(),e(()=>{g()})},[e]);let j=e=>{x(e.id),p(e)},f=async()=>{if(c&&m)try{if(!(await fetch("".concat(u,"/data/").concat(c),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("Falha ao atualizar dados");y({type:"success",text:"Dados atualizados com sucesso!"}),await g(),x(null),p({})}catch(e){y({type:"error",text:e instanceof Error?e.message:"Erro desconhecido"})}},w=()=>{x(null),p({})},N=async e=>{if(confirm("Tem certeza que deseja excluir este item?"))try{if(!(await fetch("".concat(u,"/data/").concat(e),{method:"DELETE"})).ok)throw Error("Falha ao excluir dados");y({type:"success",text:"Dados exclu\xeddos com sucesso!"}),await g()}catch(e){y({type:"error",text:e instanceof Error?e.message:"Erro desconhecido"})}},v=(e,t)=>{p(a=>({...a,[e]:t}))};return l?(0,s.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,s.jsx)("div",{className:"text-center text-white text-lg",children:"Carregando dados..."})}):i?(0,s.jsx)("div",{className:"max-w-6xl mx-auto p-6",children:(0,s.jsxs)("div",{className:"text-center text-red-500 text-lg",children:["Erro: ",i]})}):(0,s.jsxs)("div",{className:"max-w-6xl mx-auto p-6",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-white mb-6",children:"Gerenciar Dados"}),b&&(0,s.jsxs)("div",{className:"mb-4 p-3 rounded-lg ".concat("success"===b.type?"bg-green-600 text-white":"bg-red-600 text-white"),children:[b.text,(0,s.jsx)("button",{onClick:()=>y(null),className:"ml-2 text-white hover:text-gray-200",children:"\xd7"})]}),(0,s.jsx)("div",{className:"bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full",children:[(0,s.jsx)("thead",{className:"bg-gray-700",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Dia"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"M\xeas"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Local"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Cidade"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"Link Compra"}),(0,s.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider",children:"A\xe7\xf5es"})]})}),(0,s.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:0===t.length?(0,s.jsx)("tr",{children:(0,s.jsx)("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-400",children:"Nenhum evento encontrado"})}):t.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-gray-700",children:[(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:c===e.id?(0,s.jsx)("input",{type:"text",value:m.day||"",onChange:e=>v("day",e.target.value),className:"bg-gray-700 text-white px-2 py-1 rounded w-16"}):e.day}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:c===e.id?(0,s.jsx)("input",{type:"text",value:m.month||"",onChange:e=>v("month",e.target.value),className:"bg-gray-700 text-white px-2 py-1 rounded w-20"}):e.month}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:c===e.id?(0,s.jsx)("input",{type:"text",value:m.location||"",onChange:e=>v("location",e.target.value),className:"bg-gray-700 text-white px-2 py-1 rounded w-32"}):e.location}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:c===e.id?(0,s.jsx)("input",{type:"text",value:m.city||"",onChange:e=>v("city",e.target.value),className:"bg-gray-700 text-white px-2 py-1 rounded w-32"}):e.city}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm text-white",children:c===e.id?(0,s.jsx)("input",{type:"text",value:m.linkbuy||"",onChange:e=>v("linkbuy",e.target.value),className:"bg-gray-700 text-white px-2 py-1 rounded w-48"}):e.linkbuy?(0,s.jsx)("a",{href:e.linkbuy,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 underline",children:"Ver Link"}):(0,s.jsx)("span",{className:"text-gray-400",children:"-"})}),(0,s.jsx)("td",{className:"px-4 py-4 whitespace-nowrap text-sm font-medium",children:c===e.id?(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:f,className:"text-green-400 hover:text-green-300",children:"Salvar"}),(0,s.jsx)("button",{onClick:w,className:"text-gray-400 hover:text-gray-300",children:"Cancelar"})]}):(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>j(e),className:"text-yellow-400 hover:text-yellow-300",children:(0,s.jsx)(h._51,{size:20})}),(0,s.jsx)("button",{onClick:()=>N(e.id),className:"text-red-400 hover:text-red-300",children:(0,s.jsx)(h.b6i,{size:20})})]})})]},e.id))})]})})]})},b=i.Ik({login:i.Yj().min(1,"Login \xe9 obrigat\xf3rio"),senha:i.Yj().min(1,"Senha \xe9 obrigat\xf3ria")});function y(){let{register:e,handleSubmit:t,formState:{errors:a}}=(0,l.mN)({resolver:(0,n.u)(b)}),[i,x]=(0,r.useState)(""),[h,u]=(0,r.useState)(!1);return(0,s.jsx)("div",{className:"bg-gray-800 h-screen",children:(0,s.jsx)("div",{className:"flex justify-center items-center  ",children:h?(0,s.jsx)(d.DataProvider,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-20 p-20 bg-gray-800 w-full",children:[(0,s.jsx)(m,{}),(0,s.jsx)(p,{})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:" w-[20rem] mt-10 p-6 border rounded-lg shadow-lg ",children:[(0,s.jsx)("div",{className:"p-1 flex justify-center mb-10",children:(0,s.jsx)(o.default,{src:c,alt:"Logo",width:200,height:200})}),(0,s.jsxs)("form",{onSubmit:t(e=>{"jc2025"===e.login&&"jc2025"===e.senha?(u(!0),x("")):x("Login ou senha incorretos")}),className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Usu\xe1rio:"}),(0,s.jsx)("input",{type:"text",...e("login"),className:"w-full border p-2 rounded text-black"}),a.login&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:a.login.message})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium",children:"Senha:"}),(0,s.jsx)("input",{type:"password",...e("senha"),className:"w-full border p-2 rounded text-black"}),a.senha&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:a.senha.message})]}),i&&(0,s.jsx)("p",{className:"text-red-500 text-sm",children:i}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded",children:"Entrar"})]})]})})})})}},7532:(e,t,a)=>{"use strict";a.d(t,{DataProvider:()=>r,E:()=>c,f:()=>o});var s=a(5155),l=a(2115);let n=[{id:"1",day:"15",month:"Janeiro",location:"Centro de Conven\xe7\xf5es",city:"S\xe3o Paulo",linkbuy:"https://example.com/buy/sp"},{id:"2",day:"22",month:"Janeiro",location:"Arena Events",city:"Rio de Janeiro",linkbuy:"https://example.com/buy/rj"},{id:"3",day:"30",month:"Janeiro",location:"Expo Center",city:"Belo Horizonte",linkbuy:"https://example.com/buy/bh"}],i=(0,l.createContext)(void 0),r=e=>{let{children:t}=e,[a,r]=(0,l.useState)(n),[o,c]=(0,l.useState)([]),d=(0,l.useCallback)(e=>{let t={...e,id:Date.now().toString()};r(e=>[...e,t])},[]),x=(0,l.useCallback)(e=>{r(t=>t.filter(t=>t.id!==e))},[]),m=(0,l.useCallback)(e=>{c(t=>[...t,e])},[]),h=(0,l.useCallback)(()=>{o.forEach(e=>e())},[o]),u=(0,l.useCallback)(()=>{h()},[h]);return(0,s.jsx)(i.Provider,{value:{events:a,addEvent:d,deleteEvent:x,refreshData:u,onDataChange:m,triggerRefresh:h},children:t})},o=()=>{let e=(0,l.useContext)(i);if(void 0===e)throw Error("useDataContext must be used within a DataProvider");return e},c=()=>{let e=(0,l.useContext)(i);if(void 0===e)throw Error("useData must be used within a DataProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[479,303,40,441,517,358],()=>t(8615)),_N_E=e.O()}]);